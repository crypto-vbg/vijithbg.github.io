"use strict";(self.webpackChunkspace_portfolio=self.webpackChunkspace_portfolio||[]).push([[479],{7479:(e,t,r)=>{r.r(t),r.d(t,{default:()=>g});var n=r(9950),o=r(2111),s=r(9507),a=r(2160),i=r(5218),c=r(3437);const l=()=>"undefined"!==typeof window&&window.innerWidth<768,u=()=>"undefined"!==typeof navigator&&(navigator.hardwareConcurrency&&navigator.hardwareConcurrency<4),d=()=>l();var h=r(4414);const f=e=>{let{mousePosition:t={x:.5,y:.5},scrollProgress:r=0}=e;const o=(0,n.useRef)(),s=(()=>{const e=l(),t=u();return e?1e3:t?2e3:5e3})(),a=d(),{positions:f,colors:p,sizes:m}=(0,n.useMemo)(()=>{const e=new Float32Array(3*s),t=new Float32Array(3*s),r=new Float32Array(s),n=[new c.Color(1,1,1),new c.Color(0,1,1),new c.Color(.616,0,1)];for(let o=0;o<s;o++){const s=50,a=Math.random()*Math.PI*2,i=Math.acos(2*Math.random()-1),c=s*Math.sin(i)*Math.cos(a),l=s*Math.sin(i)*Math.sin(a),u=s*Math.cos(i);e[3*o]=c,e[3*o+1]=l,e[3*o+2]=u;const d=n[Math.floor(Math.random()*n.length)];t[3*o]=d.r,t[3*o+1]=d.g,t[3*o+2]=d.b,r[o]=.15*Math.random()+.05}return{positions:e,colors:t,sizes:r}},[s]),v=(0,n.useMemo)(()=>new Float32Array(f),[f]),y=(e,t,r)=>e+(t-e)*r;return(0,i.F)(e=>{if(o.current){const n=o.current.geometry.attributes.position.array,i=e.clock.getElapsedTime(),c=a?0:.5*(t.x-.5),l=a?0:.5*(t.y-.5),u=a?0:2*r;for(let e=0;e<s;e++){const t=3*e,r=v[t],o=v[t+1],s=v[t+2],a=(s+50)/100,d=r+.5*Math.sin(.1*i+e)+c*a*5,h=o+.5*Math.cos(.1*i+e)-l*a*5,f=s+.5*Math.sin(.05*i+e)+u*a*3;n[t]=y(n[t],d,.1),n[t+1]=y(n[t+1],h,.1),n[t+2]=y(n[t+2],f,.1);const p=Math.sqrt(n[t]**2+n[t+1]**2+n[t+2]**2);if(p>60){const e=40/p;n[t]*=-e,n[t+1]*=-e,n[t+2]*=-e,v[t]=n[t],v[t+1]=n[t+1],v[t+2]=n[t+2]}}o.current.geometry.attributes.position.needsUpdate=!0}}),(0,h.jsxs)("points",{ref:o,children:[(0,h.jsxs)("bufferGeometry",{children:[(0,h.jsx)("bufferAttribute",{attach:"attributes-position",count:s,array:f,itemSize:3}),(0,h.jsx)("bufferAttribute",{attach:"attributes-color",count:s,array:p,itemSize:3}),(0,h.jsx)("bufferAttribute",{attach:"attributes-size",count:s,array:m,itemSize:1})]}),(0,h.jsx)("pointsMaterial",{size:.1,vertexColors:!0,transparent:!0,opacity:.8,sizeAttenuation:!0,depthWrite:!1})]})},p=e=>{let{mousePosition:t={x:.5,y:.5},scrollProgress:r=0}=e;const{camera:n}=(0,i.D)(),o=(e,t,r)=>e+(t-e)*r;return(0,i.F)(()=>{const e=.1*(t.x-.5),s=.1*(t.y-.5),a=5-2*r;n.rotation.y=o(n.rotation.y,e,.05),n.rotation.x=o(n.rotation.x,-s,.05),n.position.z=o(n.position.z,a,.05)}),null},m=e=>{let{position:t=[0,2,-5],scale:r=1,simplify:o=!1}=e;const s=(0,n.useRef)(),a=(0,n.useRef)(),l=(0,n.useRef)(),u=(0,n.useRef)(0),d=(0,n.useMemo)(()=>new c.ShaderMaterial({uniforms:{time:{value:0}},vertexShader:"\n        varying vec2 vUv;\n        \n        void main() {\n          vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n      ",fragmentShader:"\n        uniform float time;\n        varying vec2 vUv;\n        \n        void main() {\n          vec2 center = vec2(0.5, 0.5);\n          float dist = distance(vUv, center);\n          \n          // Create swirling effect\n          float angle = atan(vUv.y - center.y, vUv.x - center.x);\n          float swirl = sin(dist * 10.0 - time * 2.0 + angle * 3.0) * 0.5 + 0.5;\n          \n          // Radial gradient from black center to purple edge\n          vec3 blackColor = vec3(0.0, 0.0, 0.0);\n          vec3 purpleColor = vec3(0.6, 0.0, 1.0);\n          vec3 color = mix(blackColor, purpleColor, swirl * (1.0 - dist * 0.5));\n          \n          // Fade out at edges\n          float alpha = 1.0 - smoothstep(0.3, 0.5, dist);\n          \n          gl_FragColor = vec4(color, alpha);\n        }\n      ",transparent:!0,side:c.DoubleSide}),[]),f=(0,n.useMemo)(()=>{const e=o?100:200,t=new Float32Array(3*e);for(let r=0;r<e;r++){const n=r/e*Math.PI*2,o=.3*(Math.random()-.5);t[3*r]=Math.cos(n)*(2.5+o),t[3*r+1]=.2*(Math.random()-.5),t[3*r+2]=Math.sin(n)*(2.5+o)}return t},[o]);(0,i.F)((e,t)=>{s.current&&(s.current.material.uniforms.time.value=e.clock.elapsedTime,s.current.rotation.y+=.5*t),a.current&&(a.current.rotation.z+=.3*t),l.current&&(u.current=.3*Math.sin(2*e.clock.elapsedTime)+.7,l.current.material.opacity=u.current,l.current.rotation.y+=.2*t)});const p=o?32:64,m=o?[8,50]:[16,100],v=o?100:200;return(0,h.jsxs)("group",{position:t,scale:r,children:[(0,h.jsxs)("mesh",{ref:s,children:[(0,h.jsx)("sphereGeometry",{args:[1.5,p,p]}),(0,h.jsx)("primitive",{object:d,attach:"material"})]}),(0,h.jsxs)("mesh",{ref:a,rotation:[Math.PI/2,0,0],children:[(0,h.jsx)("torusGeometry",{args:[2.2,.3,...m]}),(0,h.jsx)("meshStandardMaterial",{color:"#9D00FF",emissive:"#9D00FF",emissiveIntensity:o?1.5:2,transparent:!0,opacity:.6})]}),(0,h.jsxs)("points",{ref:l,children:[(0,h.jsx)("bufferGeometry",{children:(0,h.jsx)("bufferAttribute",{attach:"attributes-position",count:v,array:f,itemSize:3})}),(0,h.jsx)("pointsMaterial",{size:.08,color:"#00FFFF",transparent:!0,opacity:.7,sizeAttenuation:!0})]})]})},v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;const[t,r]=(0,n.useState)(60),[o,s]=(0,n.useState)(!1),a=(0,n.useRef)([]),i=(0,n.useRef)(performance.now()),c=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let t=0;const n=()=>{const o=performance.now(),l=o-i.current;if(i.current=o,a.current.push(l),a.current.length>60&&a.current.shift(),a.current.length>=10){const n=1e3/(a.current.reduce((e,t)=>e+t,0)/a.current.length);r(Math.round(n)),n<e?(t++,t>=30&&s(!0)):t=0}c.current=requestAnimationFrame(n)};return c.current=requestAnimationFrame(n),()=>{c.current&&cancelAnimationFrame(c.current)}},[e]),{fps:t,shouldReduceQuality:o}};var y=r(8453);const x=()=>(0,h.jsxs)("div",{className:"fixed inset-0 bg-gradient-to-b from-black via-purple-900/20 to-black overflow-hidden pointer-events-none",children:[(0,h.jsx)("div",{className:"absolute inset-0 opacity-50",children:[...Array(100)].map((e,t)=>(0,h.jsx)("div",{className:"absolute w-1 h-1 bg-white rounded-full",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),opacity:.5*Math.random()+.3}},t))}),(0,h.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-white/50 text-sm px-4",children:(0,h.jsx)("p",{children:"Your browser doesn't support 3D graphics. Showing simplified version."})})]}),g=e=>{let{mousePosition:t,scrollProgress:r}=e;const[i,c]=(0,n.useState)(l()||u()),{fps:g,shouldReduceQuality:b}=v(30),M=d(),j=(0,y.A)();return(0,n.useEffect)(()=>{b&&!i&&(c(!0),console.log("\ud83c\udfae Adaptive Quality: Reducing 3D quality due to low FPS:",g),console.log("\ud83c\udfae Adaptive Quality: Disabling post-processing and reducing particle count"))},[b,g,i]),(0,n.useEffect)(()=>{console.log("\ud83c\udfae 3D Canvas initialized with quality settings:",{adaptiveQuality:i,disableParallax:M,initialFPS:g})},[i,M,g]),(0,h.jsx)("div",{className:"fixed inset-0 w-full h-full pointer-events-none",style:{zIndex:0},role:"img","aria-label":"Decorative 3D space background with animated starfield and black hole",children:(0,h.jsxs)(o.Hl,{camera:{position:[0,0,5],fov:75},fallback:(0,h.jsx)(x,{}),gl:{antialias:!0,alpha:!0},style:{background:"transparent"},children:[(0,h.jsx)("fog",{attach:"fog",args:["#000000",10,50]}),(0,h.jsxs)(n.Suspense,{fallback:null,children:[(0,h.jsx)(f,{mousePosition:M||j?{x:.5,y:.5}:t,scrollProgress:M||j?0:r}),(0,h.jsx)(m,{position:[0,2,-5],scale:i?.7:1,simplify:i||j}),(0,h.jsx)(p,{mousePosition:M||j?{x:.5,y:.5}:t,scrollProgress:M||j?0:r}),!i&&!j&&(0,h.jsx)(s.s,{children:(0,h.jsx)(a.m,{intensity:1.5,luminanceThreshold:.2,luminanceSmoothing:.9,radius:.8})})]})]})})}}}]);